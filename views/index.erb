<!doctype html>
<html>
  <head>
    <%= erb :header %>
  </head>
  <body>
    <script type='text/x-handlebars' data-template-name='application'>
      <div id="wrap">
        <div class="navbar navbar-default" role="navigation">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" href="http://starbounditems.herokuapp.com">Starbound Items</a>
            </div>
            <div class="navbar-collapse collapse">
              <ul class="nav navbar-nav navbar-right">
                <li><a href="/all">All Items</a></li>
                <li><a href="/stats">Stats</a></li>
                <li><a href="https://github.com/MarceloAlves/StarboundItems"><i class="fa fa-github fa-2x"></i></a></li>
              </ul>
            </div>
        </div>

        <div class="container">
          {{outlet}}
        </div>
      </div>
      {{partial "footer"}}
    </script>

    <script type='text/x-handlebars' data-template-name='search'>
      <div class="well well-sm">
        <div class="col-md-12">
          {{input type="text" class="form-control input-lg" value=searchText placeholder="Start Typing... (Examples: dirtmaterial, tomatojuice, sandstonetorch)"}}
        </div>
        <div class="clearfix"></div>
      </div>
      {{outlet}}
    </script>

    <script type='text/x-handlebars' data-template-name='search/results'>
      <table class="table table-striped table-bordered">
        <thead>
          <th>Icon</th>
          <th>Item</th>
          <th>Name</th>
          <th>Description</th>
          <th>Rarity</th>
          <th>Type</th>
        </thead>
        <tbody>
          {{#each item in arrangedContent itemController='item'}}
            <tr>
              <td>{{#if item.inventoryIcon}}<img {{bind-attr src='item.iconUrl'}} height="20">{{/if}}</td>
              <td>{{item.itemName}}</td>
              <td>{{item.shortdescription}}</td>
              <td>{{item.description}}</td>
              <td {{bind-attr class='item.rarityClass'}}> <span class="item-rarity">{{item.rarity}}</span></td>
              <td><span class="item-type">{{item.type}}</span></td>
            </tr>
          {{else}}
            <tr>
              <td colspan='6'>Nothing found. Please try another search.</td>
            </tr>
          {{/each}}
        </tbody>
      </table>
    </script>

    <script type='text/x-handlebars' data-template-name='_footer'>
      <div id="footer">
        <div class="container">
            <p class="text-muted pull-left">Game content and materials are trademarks and copyrights of their respective publisher and its licensors. All rights reserved.</p>
            <p class="text-muted pull-right">Database Last Updated: Feb 1 2015 - <a href="https://github.com/MarceloAlves/StarboundItems/issues">Feedback</a></p>
        </div>
      </div>
    </script>

  </body>
  </html>
